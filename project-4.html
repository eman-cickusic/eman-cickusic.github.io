<!-- project-4.html (FINAL & FLAWLESS) -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#f5f5f7">
    <meta name="google" content="notranslate">
    <title>Production-Grade Service Mesh | Eman Čičkušić</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <div class="nav-brand">Eman Čičkušić</div>
            <ul>
                <li><a href="index.html#projects">&larr; Back to Projects</a></li>
            </ul>
        </nav>
    </header>

    <main id="main-content">
        <div class="case-study-container">
            <div class="case-study-content">
                <div class="modal-header">
                    <h2>Production-Grade Service Mesh</h2>
                    <div class="project-tags"><span>GKE</span><span>Istio</span><span>Terraform</span><span>mTLS</span><span>Observability</span></div>
                </div>
                <div class="modal-body">
                    <div class="case-study-section">
                        <h4>Problem Statement</h4>
                        <p>In a microservices architecture, ensuring secure communication, fault tolerance, and deep observability is complex. This project demonstrates a production-grade service mesh on GKE to solve these challenges using advanced cloud-native patterns.</p>
                    </div>
                    <div class="case-study-section">
                        <h4>Architecture</h4>
                        <svg viewBox="0 0 400 240" class="architecture-svg">
                            <defs>
                                <marker id="arrow-marker-main" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse" class="diagram-arrow-main">
                                    <path d="M 0 0 L 10 5 L 0 10 z"></path>
                                </marker>
                            </defs>
                            
                            <!-- GKE Cluster Boundary -->
                            <rect x="5" y="5" width="390" height="190" rx="8" class="diagram-node-cluster"></rect>
                            <text x="15" y="22" class="diagram-label">GKE Cluster (Istio Enabled)</text>
                        
                            <!-- Frontend Service -->
                            <g transform="translate(70, 100)">
                                <rect x="-40" y="-20" width="80" height="40" rx="4" class="diagram-node"></rect>
                                <text x="0" y="5" class="diagram-title" text-anchor="middle">Frontend</text>
                            </g>
                        
                            <!-- Arrow to API Services -->
                            <path d="M 115 100 L 145 100" class="diagram-arrow-main" marker-end="url(#arrow-marker-main)"></path>
                        
                            <!-- API Service v1 -->
                            <g transform="translate(200, 75)">
                                <rect x="-50" y="-20" width="100" height="40" rx="4" class="diagram-node"></rect>
                                <text x="0" y="-2" class="diagram-title" text-anchor="middle">API Service v1</text>
                                <text x="0" y="10" class="diagram-subtitle" text-anchor="middle">(90% Traffic)</text>
                            </g>
                            
                            <!-- API Service v2 (Canary) -->
                            <g transform="translate(200, 125)">
                                <rect x="-50" y="-20" width="100" height="40" rx="4" class="diagram-node"></rect>
                                <text x="0" y="-2" class="diagram-title" text-anchor="middle">API Service v2</text>
                                <text x="0" y="10" class="diagram-subtitle" text-anchor="middle">(10% Canary)</text>
                            </g>
                        
                            <!-- Observability Group -->
                            <g transform="translate(335, 100)">
                                <rect x="-40" y="-60" width="80" height="120" rx="4" fill="#fdfdff"></rect>
                                <text text-anchor="middle" y="-45" class="diagram-title">Observability</text>
                                
                                <g transform="translate(0, -15)">
                                    <rect x="-30" y="-12" width="60" height="24" rx="4" class="diagram-node"></rect>
                                    <text text-anchor="middle" y="4" class="diagram-subtitle">Monitoring</text>
                                </g>
                        
                                <g transform="translate(0, 25)">
                                    <rect x="-30" y="-12" width="60" height="24" rx="4" class="diagram-node"></rect>
                                    <text text-anchor="middle" y="4" class="diagram-subtitle">Trace</text>
                                </g>
                            </g>
                            
                            <!-- Arrow from APIs to Observability -->
                            <path d="M 255 100 L 285 100" class="diagram-arrow-main" marker-end="url(#arrow-marker-main)"></path>
                        
                            <!-- mTLS Security Annotation -->
                            <g transform="translate(200, 220)" text-anchor="middle">
                                <text class="diagram-label" x="0" y="0">All traffic secured with mTLS</text>
                            </g>
                        </svg>
                    </div>
                    <div class="case-study-section">
                        <h4>Technical Decisions & Outcomes</h4>
                        <ul>
                            <li><strong>Architectural Choice:</strong> A canary deployment strategy was chosen over blue/green to demonstrate a more sophisticated, risk-averse release process, enabling production testing with minimal user impact before a full rollout.</li>
                            <li><strong>Quantifiable Outcome:</strong> The entire GKE cluster and Istio mesh setup was automated with Terraform, reducing deployment time from <strong>over 4 hours</strong> of manual steps to a repeatable, scripted deployment of <strong>under 9 minutes</strong>.</li>
                        </ul>
                    </div>
                    <div class="case-study-section">
                        <h4>Security & Cost Optimization</h4>
                        <ul>
                            <li><strong>Security Posture:</strong> A zero-trust network was enforced using an Istio `AuthorizationPolicy` to deny all traffic by default, with explicit rules only allowing required service-to-service communication. All inter-service traffic is automatically encrypted with mTLS by the mesh.</li>
                            <li><strong>Cost Optimization:</strong> The GKE cluster was configured with node auto-provisioning and auto-scaling, allowing it to dynamically add or remove nodes based on workload demands, preventing over-provisioning and minimizing costs.</li>
                        </ul>
                    </div>
                    <div class="case-study-section">
                        <h4>Zero-Trust Policy Example</h4>
                        <p>The following Istio `AuthorizationPolicy` denies all traffic in the namespace by default, then explicitly allows `GET` requests from the `frontend` service account to the `api-service`.</p>
                        <pre><code class="language-yaml">apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: api-service-policy
spec:
  selector:
    matchLabels:
      app: api-service
  action: ALLOW
  rules:
  - from:
    - source:
        principals: ["cluster.local/ns/default/sa/frontend"]
    to:
    - operation:
        methods: ["GET"]
</code></pre>
                    </div>
                    <div class="case-study-section">
                        <h4>Testing Strategy</h4>
                        <ul>
                            <li><strong>Infrastructure Testing:</strong> The Terraform configuration was validated using `tflint` for best practices. The entire GKE cluster and Istio installation were deployed to a staging environment first to validate the setup before any production deployment.</li>
                            <li><strong>Policy Verification:</strong> After applying the `AuthorizationPolicy`, tests were run from a non-whitelisted pod to confirm that access to the `api-service` was correctly denied, explicitly verifying the zero-trust configuration.</li>
                        </ul>
                        <a href="https://github.com/eman-cickusic/Installing-Cloud-Service-Mesh-on-Google-Kubernetes-Engine" target="_blank" rel="noopener noreferrer" class="cta-button">View on GitHub</a>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="script.js" defer></script>
</body>
</html>
