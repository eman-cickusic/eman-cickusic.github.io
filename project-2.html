<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-Time Serverless Data Pipeline | Eman Čičkušić</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <div class="nav-brand">Eman Čičkušić</div>
            <ul>
                <li><a href="index.html#projects">&larr; Back to Projects</a></li>
            </ul>
        </nav>
    </header>

    <main id="main-content">
        <div class="case-study-container">
            <div class="case-study-content">
                <div class="modal-header">
                    <h2>Real-Time Serverless Data Pipeline</h2>
                    <div class="project-tags"><span>Pub/Sub</span><span>Cloud Functions</span><span>BigQuery</span><span>Python</span></div>
                </div>
                <div class="modal-body">
                    <div class="case-study-section">
                        <h4>Problem Statement</h4>
                        <p>IoT devices generate high-volume data streams that require immediate ingestion, validation, and analysis. This project's goal was to build a highly scalable, low-latency, and cost-effective serverless pipeline to handle this workflow.</p>
                    </div>
                    <div class="case-study-section">
                        <h4>Architecture</h4>
                        <svg viewBox="0 0 400 230" class="architecture-svg">
    <defs>
        <marker id="arrow-marker-main" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse" class="diagram-arrow-main">
            <path d="M 0 0 L 10 5 L 0 10 z"></path>
        </marker>
        <marker id="arrow-marker-secondary" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse" class="diagram-arrow-secondary">
            <path d="M 0 0 L 10 5 L 0 10 z"></path>
        </marker>
    </defs>

    <!-- IoT Devices -->
    <g transform="translate(50, 70)">
        <rect x="-30" y="-20" width="60" height="40" rx="4" class="diagram-node"></rect>
        <path class="diagram-icon" transform="translate(-12, -12) scale(1)" d="M4.65,13.65a1,1,0,0,0,1.41,0L12,7.71l5.94,5.94a1,1,0,0,0,1.41-1.41L12.71,6.29a1,1,0,0,0-1.41,0L5.35,12.24A1,1,0,0,0,4.65,13.65Zm0,6a1,1,0,0,0,1.41,0L12,13.71l5.94,5.94a1,1,0,0,0,1.41-1.41L12.71,12.29a1,1,0,0,0-1.41,0L5.35,18.24A1,1,0,0,0,4.65,19.65ZM12,5a3,3,0,1,0-3-3A3,3,0,0,0,12,5Z"></path>
        <text text-anchor="middle" y="32" class="diagram-title">IoT Devices</text>
        <text text-anchor="middle" y="45" class="diagram-subtitle">Data Source</text>
    </g>

    <!-- Arrow to PubSub -->
    <path d="M 85 70 L 125 70" class="diagram-arrow-main" marker-end="url(#arrow-marker-main)"></path>

    <!-- Pub/Sub Ingestion -->
    <g transform="translate(160, 70)">
        <rect x="-30" y="-20" width="60" height="40" rx="4" class="diagram-node"></rect>
        <path class="diagram-icon" transform="translate(-12, -12) scale(1)" d="M21,10H14V12h7v7H14v2h7a2,2,0,0,0,2-2V12A2,2,0,0,0,21,10ZM3,3H10V5H3V19H10v2H3a2,2,0,0,1-2-2V5A2,2,0,0,1,3,3Zm10,4.5L10.5,10l2.5,2.5V10.5H18v-1H13Z"></path>
        <text text-anchor="middle" y="32" class="diagram-title">Pub/Sub</text>
        <text text-anchor="middle" y="45" class="diagram-subtitle">Ingestion</text>
    </g>

    <!-- Arrow to Cloud Function -->
    <path d="M 195 70 L 235 70" class="diagram-arrow-main" marker-end="url(#arrow-marker-main)"></path>
    
    <!-- Cloud Function -->
    <g transform="translate(270, 70)">
        <rect x="-35" y="-20" width="70" height="40" rx="4" class="diagram-node"></rect>
        <path class="diagram-icon" transform="translate(-12, -12) scale(1)" d="M12,2A10,10,0,0,0,5.12,4.73L3.71,3.29A1,1,0,0,0,2.29,4.71L4.73,7.12A9.91,9.91,0,0,0,4,10v2a1,1,0,0,0,1,1H6a1,1,0,0,0,1-1V10a7.92,7.92,0,0,1,1.59-4.83l3.54,3.54A7.76,7.76,0,0,1,13,12h2a1,1,0,0,0,1-1V8a1,1,0,0,0-1-1H13a5.86,5.86,0,0,0-1.76.33L14.77,3.8A10,10,0,0,0,12,2Zm8.29,15.71a1,1,0,0,0-1.41-1.41L16.88,14.29A9.91,9.91,0,0,0,20,12V10a1,1,0,0,0-1-1H18a1,1,0,0,0-1,1v2a7.92,7.92,0,0,1-1.59,4.83L11.88,13.29A8.8,8.8,0,0,1,11,10H9a1,1,0,0,0-1,1v3a1,1,0,0,0,1,1h1.44a6,6,0,0,0,1.23-2.67L15.21,20.2A10,10,0,0,0,12,22,10,10,0,0,0,20.29,17.71Z"></path>
        <text text-anchor="middle" y="32" class="diagram-title">Cloud Function</text>
        <text text-anchor="middle" y="45" class="diagram-subtitle">Validation</text>
    </g>
    
    <!-- Arrow to BigQuery -->
    <path d="M 310 70 L 340 70" class="diagram-arrow-main" marker-end="url(#arrow-marker-main)"></path>

    <!-- BigQuery -->
    <g transform="translate(355, 70)">
        <circle cx="0" cy="0" r="16" class="diagram-node"></circle>
        <path class="diagram-icon" transform="translate(-8, -7) scale(0.6)" d="M12.45,16.55,10.6,18.4,2.8,10.6,10.6,2.8l1.85,1.85L6.5,10.6ZM21.2,10.6,13.4,2.8l1.85-1.85L23.05,8.75,25,10.6l-1.95,1.95L15.25,20.25,13.4,18.4Z"></path>
        <text text-anchor="middle" y="32" class="diagram-title">BigQuery</text>
        <text text-anchor="middle" y="45" class="diagram-subtitle">Analysis</text>
    </g>

    <!-- Arrow to Alerts -->
    <path d="M 270 95 L 270 145" class="diagram-arrow-secondary" marker-end="url(#arrow-marker-secondary)"></path>

    <!-- Pub/Sub Alerts -->
    <g transform="translate(270, 175)">
        <rect x="-30" y="-20" width="60" height="40" rx="4" class="diagram-node"></rect>
        <path class="diagram-icon" transform="translate(-12, -12) scale(1)" d="M21,10H14V12h7v7H14v2h7a2,2,0,0,0,2-2V12A2,2,0,0,0,21,10ZM3,3H10V5H3V19H10v2H3a2,2,0,0,1-2-2V5A2,2,0,0,1,3,3Zm10,4.5L10.5,10l2.5,2.5V10.5H18v-1H13Z"></path>
        <text text-anchor="middle" y="32" class="diagram-title">Pub/Sub</text>
        <text text-anchor="middle" y="45" class="diagram-subtitle">Alerts Topic</text>
    </g>
</svg>
                    </div>
                    <div class="case-study-section">
                        <h4>Technical Decisions & Outcomes</h4>
                        <ul>
                            <li><strong>Architectural Choice:</strong> Cloud Functions Gen 2 was selected for its superior event-driven capabilities and longer processing timeouts, making it ideal for complex validation logic without needing a containerized environment like Cloud Run.</li>
                            <li><strong>Quantifiable Outcome:</strong> The pipeline was architected to handle <strong>1,000+ messages per second</strong> with an average end-to-end latency of <strong>under 2 seconds</strong>, all while operating within GCP's zero-cost free tier for the expected data volume.</li>
                        </ul>
                    </div>
                    <div class="case-study-section">
                        <h4>Security & Cost Optimization</h4>
                        <ul>
                            <li><strong>Security Posture:</strong> The Cloud Function was assigned a dedicated, non-default service account with the minimum required roles (`roles/pubsub.publisher`, `roles/bigquery.dataEditor`) to write to the downstream services, preventing privilege escalation.</li>
                            <li><strong>Cost Optimization:</strong> The entire architecture is serverless, leveraging a "pay-per-use" model. This means zero cost when idle and automatic scaling during traffic spikes, making it vastly more cost-effective than a provisioned-server solution.</li>
                        </ul>
                    </div>
                    <div class="case-study-section">
                        <h4>Testing Strategy</h4>
                        <ul>
                            <li><strong>Unit Testing:</strong> The core Python validation logic within the Cloud Function was unit-tested with `pytest`, using mock data to cover edge cases like malformed payloads and invalid sensor readings.</li>
                            <li><strong>End-to-End Testing:</strong> A deployment script publishes a test message to the initial Pub/Sub topic and polls the target BigQuery table to confirm the entire pipeline completes successfully within latency targets.</li>
                        </ul>
                        <a href="https://github.com/eman-cickusic/Real-Time-Serverless-Data-Pipeline-on-Google-Cloud" target="_blank" rel="noopener noreferrer" class="cta-button">View on GitHub</a>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="script.js" defer></script>
</body>
</html>
