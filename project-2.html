<!-- project-2.html (DEFINITIVELY CORRECTED & COMPLETE) -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#f5f5f7">
    <meta name="google" content="notranslate">
    <title>Real-Time Serverless Data Pipeline | Eman Čičkušić</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <div class="nav-brand">Eman Čičkušić</div>
            <ul>
                <li><a href="index.html#projects">&larr; Back to Projects</a></li>
            </ul>
        </nav>
    </header>

    <main id="main-content">
        <div class="case-study-container">
            <div class="case-study-content">
                <div class="modal-header">
                    <h2>Real-Time Serverless Data Pipeline</h2>
                    <div class="project-tags"><span>Pub/Sub</span><span>Cloud Functions</span><span>BigQuery</span><span>Python</span></div>
                </div>
                <div class="modal-body">
                    <div class="case-study-section">
                        <h4>Problem Statement</h4>
                        <p>IoT devices generate high-volume data streams that require immediate ingestion, validation, and analysis. This project's goal was to build a highly scalable, low-latency, and cost-effective serverless pipeline to handle this workflow.</p>
                    </div>
                    <div class="case-study-section">
                        <h4>Architecture</h4>
                        <svg viewBox="0 0 400 230" class="architecture-svg">
                            <defs>
                                <marker id="arrow-marker-main" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse" class="diagram-arrow-main">
                                    <path d="M 0 0 L 10 5 L 0 10 z"></path>
                                </marker>
                                <marker id="arrow-marker-secondary" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse" class="diagram-arrow-secondary">
                                    <path d="M 0 0 L 10 5 L 0 10 z"></path>
                                </marker>
                            </defs>
                        
                            <!-- IoT Devices -->
                            <g transform="translate(50, 70)">
                                <rect x="-45" y="-20" width="90" height="40" rx="4" class="diagram-node"></rect>
                                <text text-anchor="middle" y="-5" class="diagram-title">IoT Devices</text>
                                <text text-anchor="middle" y="10" class="diagram-subtitle">Data Source</text>
                            </g>
                        
                            <!-- Arrow to PubSub -->
                            <path d="M 100 70 L 130 70" class="diagram-arrow-main" marker-end="url(#arrow-marker-main)"></path>
                        
                            <!-- Pub/Sub Ingestion -->
                            <g transform="translate(175, 70)">
                                <rect x="-45" y="-20" width="90" height="40" rx="4" class="diagram-node"></rect>
                                <text text-anchor="middle" y="-5" class="diagram-title">Pub/Sub</text>
                                <text text-anchor="middle" y="10" class="diagram-subtitle">Ingestion</text>
                            </g>
                        
                            <!-- Arrow to Cloud Function -->
                            <path d="M 225 70 L 255 70" class="diagram-arrow-main" marker-end="url(#arrow-marker-main)"></path>
                            
                            <!-- Cloud Function -->
                            <g transform="translate(300, 70)">
                                <rect x="-45" y="-20" width="90" height="40" rx="4" class="diagram-node"></rect>
                                <text text-anchor="middle" y="-5" class="diagram-title">Cloud Function</text>
                                <text text-anchor="middle" y="10" class="diagram-subtitle">Validation</text>
                            </g>
                            
                            <!-- Arrow to BigQuery -->
                            <path d="M 300 95 L 300 125" class="diagram-arrow-main" marker-end="url(#arrow-marker-main)"></path>
                        
                            <!-- BigQuery -->
                            <g transform="translate(300, 150)">
                                <rect x="-45" y="-20" width="90" height="40" rx="4" class="diagram-node"></rect>
                                <text text-anchor="middle" y="-5" class="diagram-title">BigQuery</text>
                                <text text-anchor="middle" y="10" class="diagram-subtitle">Analysis</text>
                            </g>
                        
                            <!-- Arrow to Alerts -->
                            <path d="M 175 95 L 175 125" class="diagram-arrow-secondary" marker-end="url(#arrow-marker-secondary)"></path>
                        
                            <!-- Pub/Sub Alerts -->
                            <g transform="translate(175, 150)">
                                <rect x="-45" y="-20" width="90" height="40" rx="4" class="diagram-node"></rect>
                                <text text-anchor="middle" y="-5" class="diagram-title">Pub/Sub</text>
                                <text text-anchor="middle" y="10" class="diagram-subtitle">Alerts Topic</text>
                            </g>
                        </svg>
                    </div>
                    <div class="case-study-section">
                        <h4>Technical Decisions & Outcomes</h4>
                        <ul>
                            <li><strong>Architectural Choice:</strong> Cloud Functions Gen 2 was selected for its superior event-driven capabilities and longer processing timeouts, making it ideal for complex validation logic without needing a containerized environment like Cloud Run.</li>
                            <li><strong>Quantifiable Outcome:</strong> The pipeline was architected to handle <strong>1,000+ messages per second</strong> with an average end-to-end latency of <strong>under 2 seconds</strong>, all while operating within GCP's zero-cost free tier for the expected data volume.</li>
                        </ul>
                    </div>
                    <div class="case-study-section">
                        <h4>Security & Cost Optimization</h4>
                        <ul>
                            <li><strong>Security Posture:</strong> The Cloud Function was assigned a dedicated, non-default service account with the minimum required roles (`roles/pubsub.publisher`, `roles/bigquery.dataEditor`) to write to the downstream services, preventing privilege escalation.</li>
                            <li><strong>Cost Optimization:</strong> The entire architecture is serverless, leveraging a "pay-per-use" model. This means zero cost when idle and automatic scaling during traffic spikes, making it vastly more cost-effective than a provisioned-server solution.</li>
                        </ul>
                    </div>
                    <div class="case-study-section">
                        <h4>Testing Strategy</h4>
                        <ul>
                            <li><strong>Unit Testing:</strong> The core Python validation logic within the Cloud Function was unit-tested with `pytest`, using mock data to cover edge cases like malformed payloads and invalid sensor readings.</li>
                            <li><strong>End-to-End Testing:</strong> A deployment script publishes a test message to the initial Pub/Sub topic and polls the target BigQuery table to confirm the entire pipeline completes successfully within latency targets.</li>
                        </ul>
                        <a href="https://github.com/eman-cickusic/Real-Time-Serverless-Data-Pipeline-on-Google-Cloud" target="_blank" rel="noopener noreferrer" class="cta-button">View on GitHub</a>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="script.js" defer></script>
</body>
</html>```
